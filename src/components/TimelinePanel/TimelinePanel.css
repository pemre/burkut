.timeline-panel {
  border-top: 1px solid var(--border-default);
  background: var(--bg-surface-alt);
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow: hidden;
  height: 100%;
  box-sizing: border-box;
}

.timeline-container {
  flex: 1;
  min-height: 0;
  overflow: auto;
}

/* ── vis-timeline theme overrides ──────────────────────────── */
.vis-timeline {
  border-color: var(--vis-border) !important;
  background: var(--vis-bg) !important;
  border: none !important;
}

.vis-panel.vis-bottom,
.vis-panel.vis-center,
.vis-panel.vis-left,
.vis-panel.vis-right,
.vis-panel.vis-top {
  border-color: var(--vis-border) !important;
}

.vis-time-axis .vis-text {
  color: var(--vis-text) !important;
}

.vis-time-axis .vis-grid.vis-minor {
  border-color: var(--border-subtle) !important;
}

.vis-time-axis .vis-grid.vis-major {
  border-color: var(--vis-border) !important;
}

.vis-labelset .vis-label {
  color: var(--vis-text) !important;
  border-bottom-color: var(--vis-border) !important;
}

.vis-foreground .vis-group {
  border-bottom-color: var(--vis-border) !important;
}

/* vis items */
.vis-item {
  background-color: var(--vis-item-bg) !important;
  border-color: var(--vis-item-border) !important;
  color: var(--vis-item-text) !important;
  border-radius: 3px;
  font-size: 0.78rem;
}

.vis-item.vis-selected {
  border-color: var(--accent) !important;
  background-color: var(--accent-a30) !important;
  backdrop-filter: blur(4px);
}

.vis-label {
  color: var(--vis-text);
  font-size: 0.78rem;
}

/* ── Background layers (theme-aware) ──────────────────────── */
.vis-item.vis-background.bg-ancient  { background: var(--tl-bg-ancient) !important; }
.vis-item.vis-background.bg-early    { background: var(--tl-bg-early) !important; }
.vis-item.vis-background.bg-fragment { background: var(--tl-bg-fragment) !important; }
.vis-item.vis-background.bg-mid      { background: var(--tl-bg-mid) !important; }
.vis-item.vis-background.bg-late     { background: var(--tl-bg-late) !important; }
.vis-item.vis-background.bg-modern   { background: var(--tl-bg-modern) !important; }

/* Background items should not have item styling */
.vis-item.vis-background {
  background-color: transparent !important;
  border: none !important;
}

.vis-item.semi-legendary { border-color: var(--accent) !important; border-style: dashed; }
.vis-item.parallel-state { opacity: 0.75; }

/* vis nested group backgrounds */
.vis-label.vis-nested-group {
  background-color: var(--bg-surface-alt) !important;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {
  border-color: var(--border-subtle) !important;
}

.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {
  border-color: var(--vis-border) !important;
}

/* ── Group visibility toggle buttons ──────────────────────── */
.timeline-group-toggle {
  display: inline-flex;
  align-items: center;
  padding: 1px 8px;
  border: 1px solid var(--border-default);
  border-radius: 10px;
  background: var(--bg-surface-alt);
  color: var(--text-secondary);
  font-size: 0.65rem;
  font-weight: 600;
  letter-spacing: 0.02em;
  cursor: pointer;
  white-space: nowrap;
  transition: background 0.15s, color 0.15s, border-color 0.15s, opacity 0.15s;
  user-select: none;
  line-height: 1.5;
}

.timeline-group-toggle:hover {
  background: var(--hover-bg);
  color: var(--accent);
  border-color: var(--accent);
}

.timeline-group-toggle--active {
  background: var(--accent-a30, rgba(47, 129, 247, 0.15));
  color: var(--accent);
  border-color: var(--accent);
}

.timeline-group-toggle--hidden {
  opacity: 0.45;
  text-decoration: line-through;
}

